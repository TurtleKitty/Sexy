#!/usr/local/bin/sexy run

(def count (if rest.head rest.head.to-number 120000))

(sys.test 'start true)

(sys.test 'fn-tco
    (seq
        (def upto
            (fn (max)
                (def helper
                    (fn (acc)
                        (if (= acc max)
                            acc
                            (helper (+ acc 1)))))
                (helper 0)))
        (= (upto count) count)))

(sys.test 'no-tco 
    (seq
        (def upto
            (fn (n)
                (if (= n 0)
                    0
                    (+ 1 (upto (- n 1))))))
        (= (upto count) count)))

